<div class="bg-white shadow-xl rounded-lg overflow-hidden">
  <% if @profile %>
    <!-- Header Section -->
    <%= render 'shared/header', 
      header_container_class: 'bg-blue-700 text-white p-4 sm:p-6',
      title_container_class: '',
      name_class: 'text-2xl sm:text-3xl font-bold',
      contact_container_class: 'mt-3 sm:mt-4 flex flex-wrap items-center text-blue-100',
      contact_item_class: 'flex items-center mr-4 mb-2',
      icon_class: 'h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2'
    %>
    
    <!-- Main Content -->
    <div class="p-4 sm:p-6 overflow-y-auto max-h-[calc(100vh-12rem)]">
      <!-- Profile Summary -->
      <section class="mb-6 sm:mb-8">
        <h2 class="text-lg sm:text-xl font-bold text-gray-800 border-b-2 border-blue-200 pb-2 mb-3 sm:mb-4">Profile</h2>
        <div class="text-sm sm:text-base text-gray-700 leading-relaxed">
          <%= simple_format(@profile.summary) %>
        </div>
      </section>

      <!-- Work Experience -->
      <section class="mb-6 sm:mb-8">
        <h2 class="text-lg sm:text-xl font-bold text-gray-800 border-b-2 border-blue-200 pb-2 mb-3 sm:mb-4">Work Experience</h2>
        
        <% @experiences.each do |experience| %>
          <div class="mb-4 sm:mb-5">
            <div class="flex flex-col md:flex-row md:justify-between md:items-start">
              <div>
                <h3 class="text-base sm:text-lg font-semibold text-gray-800"><%= experience.position %></h3>
                <p class="text-blue-600 font-medium text-sm sm:text-base"><%= experience.company %></p>
              </div>
              <div class="text-gray-600 text-sm mt-1 md:mt-0 md:text-right">
                <%= experience.start_date.strftime("%m/%Y") %> - 
                <%= experience.current ? "Present" : experience.end_date.strftime("%m/%Y") %>
              </div>
            </div>
            <div class="mt-2 text-sm sm:text-base text-gray-700">
              <%= simple_format(experience.description) %>
            </div>
          </div>
        <% end %>
      </section>

      <!-- Education -->
      <section class="mb-6 sm:mb-8">
        <h2 class="text-lg sm:text-xl font-bold text-gray-800 border-b-2 border-blue-200 pb-2 mb-3 sm:mb-4">Education</h2>
        
        <% @educations.each do |education| %>
          <div class="mb-4 sm:mb-5">
            <div class="flex flex-col md:flex-row md:justify-between md:items-start">
              <div>
                <h3 class="text-base sm:text-lg font-semibold text-gray-800"><%= education.degree %> in <%= education.field %></h3>
                <p class="text-blue-600 font-medium text-sm sm:text-base"><%= education.institution %></p>
              </div>
              <% if education.start_date.present? && education.end_date.present? %>
                <div class="text-gray-600 text-sm mt-1 md:mt-0 md:text-right">
                  <%= education.start_date.strftime("%Y") %> - <%= education.end_date.strftime("%Y") %>
                </div>
              <% end %>
            </div>
            <% if education.gpa.present? %>
              <p class="text-gray-700 text-sm mt-1">GPA: <%= education.gpa %></p>
            <% end %>
            <% if education.description.present? %>
              <div class="mt-2 text-sm sm:text-base text-gray-700">
                <%= simple_format(education.description) %>
              </div>
            <% end %>
          </div>
        <% end %>
      </section>

      <!-- Skills -->
      <section class="mb-6 sm:mb-8">
        <%= render 'shared/skills', title_class: 'text-lg sm:text-xl font-bold text-gray-800 border-b-2 border-blue-200 pb-2 mb-3 sm:mb-4', container_class: 'mb-4 sm:mb-5', subtitle_class: 'text-base sm:text-lg font-semibold text-gray-800 mb-2', item_class: 'px-2 sm:px-3 py-1' %>
      </section>

      <!-- Languages -->
      <section>
        <h2 class="text-lg sm:text-xl font-bold text-gray-800 border-b-2 border-blue-200 pb-2 mb-3 sm:mb-4">Languages</h2>
        
        <div class="flex flex-wrap gap-2 sm:gap-3">
          <% @languages.each do |language| %>
            <div class="bg-gray-100 rounded-lg px-2 sm:px-3 py-1">
              <span class="font-medium text-xs sm:text-sm"><%= language.name %></span>
              <span class="text-gray-600 ml-1 sm:ml-2 text-xs sm:text-sm"><%= language.proficiency %></span>
            </div>
          <% end %>
        </div>
      </section>
    </div>
  <% else %>
    <div class="p-4 sm:p-6 text-center">
      <p class="text-lg sm:text-xl text-gray-600">No profile information found. Please run the seed data to populate the resume.</p>
    </div>
  <% end %>
  
  <!-- Footer -->
  <div class="bg-gray-100 p-2 sm:p-3 text-center text-gray-600 text-xs sm:text-sm">
    <p>© <%= Date.today.year %> <%= @profile&.name || 'Resume' %> • Built with Ruby on Rails and Tailwind CSS</p>
  </div>
</div>

<div class="text-center mt-3 sm:mt-4">
  <a href="/resume" class="text-blue-600 hover:text-blue-800 text-sm sm:text-base">
    View Traditional Resume
  </a>
</div> 